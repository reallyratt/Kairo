<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kairo</title>
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#0f172a" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
      /* Hide scrollbar for Chrome, Safari and Opera */
      body::-webkit-scrollbar,
      .overflow-y-auto::-webkit-scrollbar {
        display: none;
      }

      /* Hide scrollbar for IE, Edge and Firefox */
      body,
      .overflow-y-auto {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
      }
      
      /* --- THEME DEFINITIONS --- */
      body[data-theme='dark'] {
          --bg-primary: #020617; /* slate-950 */
          --bg-secondary: #0f172a; /* slate-900 */
          --bg-tertiary: #1e293b; /* slate-800 */
          --bg-quaternary: #334155; /* slate-700 */
          --text-primary: #e2e8f0; /* slate-200 */
          --text-secondary: #94a3b8; /* slate-400 */
          --text-tertiary: #64748b; /* slate-500 */
          --text-inverted: #020617;
          --border-color: #334155; /* slate-700 */
          --accent-primary: #d946ef; /* fuchsia-500 */
          --accent-primary-rgb: 217, 70, 239;
          --accent-secondary: #e879f9; /* fuchsia-400 */
          --accent-text: #f8fafc; /* slate-50 */
          --danger-primary: #f87171; /* red-400 */
          --danger-secondary-bg: rgba(239, 68, 68, 0.1);
          --danger-tertiary-bg: rgba(239, 68, 68, 0.2);
          --success-primary: #4ade80; /* green-400 */
          --shadow-color: 217 119 6 / 0.05;
          --font-family: 'system-ui', 'sans-serif';
      }

      body[data-theme='light'] {
          --bg-primary: #f1f5f9; /* slate-100 */
          --bg-secondary: #ffffff;
          --bg-tertiary: #e2e8f0; /* slate-200 */
          --bg-quaternary: #cbd5e1; /* slate-300 */
          --text-primary: #1e293b; /* slate-800 */
          --text-secondary: #475569; /* slate-600 */
          --text-tertiary: #64748b; /* slate-500 */
          --text-inverted: #f8fafc;
          --border-color: #e2e8f0; /* slate-200 */
          --accent-primary: #c026d3; /* fuchsia-600 */
          --accent-primary-rgb: 192, 38, 211;
          --accent-secondary: #d946ef; /* fuchsia-500 */
          --accent-text: #f8fafc;
          --danger-primary: #dc2626; /* red-600 */
          --danger-secondary-bg: rgba(220, 38, 38, 0.1);
          --danger-tertiary-bg: rgba(220, 38, 38, 0.2);
          --success-primary: #16a34a; /* green-600 */
          --shadow-color: 9 9 11 / 0.1;
          --font-family: 'system-ui', 'sans-serif';
      }

      body[data-theme='default'] {
          --bg-primary: #141B2D;       /* Deep Space */
          --bg-secondary: #1E2A47;     /* Midnight Blue */
          --bg-tertiary: #2F3A56;      /* Graphite Gray */
          --bg-quaternary: #404a69;    /* Lighter Graphite for hover */
          --text-primary: #E8EAF0;      /* Mist White */
          --text-secondary: #A0A6B8;    /* Cloud Gray */
          --text-tertiary: #7a8194;     /* Darker Cloud Gray */
          --text-inverted: #141B2D;
          --border-color: #2F3A56;      /* Graphite Gray */
          --accent-primary: #3DD6D0;    /* Electric Cyan */
          --accent-primary-rgb: 61, 214, 208;
          --accent-secondary: #5ef8f2;   /* Lighter Cyan */
          --accent-text: #141B2D;
          --danger-primary: #E74C3C;    /* Crimson Pulse */
          --danger-secondary-bg: rgba(231, 76, 60, 0.1);
          --danger-tertiary-bg: rgba(231, 76, 60, 0.2);
          --success-primary: #4ADE80;    /* Seafoam Green */
          --shadow-color: 61 214 208 / 0.1;
          --font-family: 'system-ui', 'sans-serif';
      }

      body[data-theme='monochrome'] {
          --bg-primary: #111111;
          --bg-secondary: #1f1f1f;
          --bg-tertiary: #2d2d2d;
          --bg-quaternary: #3c3c3c;
          --text-primary: #e5e5e5;
          --text-secondary: #a3a3a3;
          --text-tertiary: #737373;
          --text-inverted: #111111;
          --border-color: #3c3c3c;
          --accent-primary: #e5e5e5;
          --accent-primary-rgb: 229, 229, 229;
          --accent-secondary: #fafafa;
          --accent-text: #111111;
          --danger-primary: #fca5a5;
          --danger-secondary-bg: rgba(239, 68, 68, 0.1);
          --danger-tertiary-bg: rgba(239, 68, 68, 0.2);
          --success-primary: #86efac;
          --shadow-color: 0 0 0 / 0.1;
          --font-family: 'system-ui', 'sans-serif';
      }

      /* Apply theme variables */
      body {
        background-color: var(--bg-primary);
        color: var(--text-primary);
        font-family: var(--font-family);
        transition: background-color 0.3s ease, color 0.3s ease;
        user-select: none;
        -webkit-user-select: none;
      }
      .font-sans { font-family: var(--font-family); }
      .bg-slate-950 { background-color: var(--bg-primary); }
      .text-slate-200 { color: var(--text-primary); }
      
      input, textarea, [contenteditable="true"] {
          user-select: text;
          -webkit-user-select: text;
      }

      /* Base Button Styles */
      .btn {
        padding: 0.3rem 0.7rem;
        border-radius: 0.35rem;
        font-weight: 600;
        font-size: 0.85rem;
        transition: all 0.15s ease-out;
        transform-origin: center;
        border: none;
        cursor: pointer;
      }
      .btn:hover {
        transform: scale(1.03);
      }
      .btn:active {
        transform: scale(0.97);
      }
      .btn:disabled {
        background-color: var(--bg-quaternary);
        color: var(--text-tertiary);
        cursor: not-allowed;
        transform: none;
        opacity: 0.7;
      }

      /* Button Variants */
      .btn-primary {
        background-color: var(--accent-primary);
        color: var(--accent-text);
      }
      .btn-primary:hover:not(:disabled) {
        background-color: var(--accent-secondary);
      }
      .btn-secondary {
        background-color: var(--bg-tertiary);
        color: var(--text-primary);
      }
      .btn-secondary:hover:not(:disabled) {
        background-color: var(--bg-quaternary);
      }
      .btn-danger {
        background-color: var(--danger-secondary-bg);
        color: var(--danger-primary);
      }
      .btn-danger:hover:not(:disabled) {
        background-color: var(--danger-tertiary-bg);
      }
      
      .btn-icon {
        width: 2rem;
        height: 2rem;
        padding: 0;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.85rem;
      }

      /* Form Input Styles */
      .form-input, .form-select {
        width: 100%;
        background-color: var(--bg-tertiary);
        border-radius: 0.35rem;
        padding: 0.4rem 0.6rem;
        color: var(--text-primary);
        border: 2px solid var(--bg-tertiary);
        transition: all 0.2s ease-in-out;
        font-size: 0.9rem;
      }
      .form-input:focus, .form-select:focus {
        outline: none;
        border-color: var(--accent-primary);
        box-shadow: 0 0 0 1px var(--accent-primary);
      }

      /* Dropdown Animation */
      @keyframes dropdown-in {
        from {
          opacity: 0;
          transform: scale(0.95) translateY(-5px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }
      @keyframes dropdown-out {
        from {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
        to {
          opacity: 0;
          transform: scale(0.95) translateY(-5px);
        }
      }
      .animate-dropdown-in {
        transform-origin: top;
        animation: dropdown-in 0.1s ease-out forwards;
      }
      .animate-dropdown-out {
        transform-origin: top;
        animation: dropdown-out 0.1s ease-out forwards;
      }

      /* View Transition Animation */
      @keyframes view-in {
        from { opacity: 0; transform: scale(0.98); }
        to { opacity: 1; transform: scale(1); }
      }
      @keyframes view-out {
        from { opacity: 1; transform: scale(1); }
        to { opacity: 0; transform: scale(0.98); }
      }
      .animate-view-in {
        animation: view-in 0.15s ease-out forwards;
      }
      .animate-view-out {
        animation: view-out 0.15s ease-out forwards;
      }
      
      @keyframes jiggle {
        0%, 100% { transform: rotate(-1deg); }
        50% { transform: rotate(1deg); }
      }
      .dragging {
        opacity: 0.8;
        background: var(--accent-secondary);
        cursor: grabbing;
        animation: jiggle 0.3s infinite;
      }
      .placeholder {
        height: 44px; /* Adjust to match item height */
        background-color: var(--bg-quaternary);
        border-radius: 0.375rem; /* rounded-md */
        border: 2px dashed var(--accent-primary);
        margin: 4px 0;
      }

      /* --- NOTE THEMES --- */
      .note-theme-rose { --note-bg: #fff1f2; --note-text: #881337; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23ef4444' fill-opacity='0.1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E"); }
      .note-theme-violet { --note-bg: #f5f3ff; --note-text: #4c1d95; --note-pattern: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%238b5cf6' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E"); }
      .note-theme-amber { --note-bg: #fffbeb; --note-text: #78350f; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23f59e0b' fill-opacity='0.1' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'/%3E%3C/svg%3E"); }
      .note-theme-forest { --note-bg: #f0fdf4; --note-text: #14532d; --note-pattern: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 0v16M0 8h16' stroke='%2322c55e' stroke-width='1' stroke-opacity='0.1'/%3E%3C/svg%3E"); }
      .note-theme-ocean { --note-bg: #ecfeff; --note-text: #0e7490; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath fill='%2306b6d4' fill-opacity='0.1' d='M0 0h20L0 20z'/%3E%3C/svg%3E"); }
      .note-theme-stone { --note-bg: #fafafa; --note-text: #1c1917; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='5' height='5' viewBox='0 0 5 5'%3E%3Cpath fill='%2378716c' fill-opacity='0.1' d='M0 0h5v1H0zm0 4h5v1H0z'/%3E%3C/svg%3E"); }
      
      body[data-theme='dark'] .note-theme-rose, body[data-theme='monochrome'] .note-theme-rose { --note-bg: #581c37; --note-text: #fda4af; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23f472b6' fill-opacity='0.1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E"); }
      body[data-theme='dark'] .note-theme-violet, body[data-theme='monochrome'] .note-theme-violet { --note-bg: #3b0764; --note-text: #d8b4fe; --note-pattern: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23c084fc' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E"); }
      body[data-theme='dark'] .note-theme-amber, body[data-theme='monochrome'] .note-theme-amber { --note-bg: #451a03; --note-text: #fcd34d; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23fbbf24' fill-opacity='0.1' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'/%3E%3C/svg%3E"); }
      body[data-theme='dark'] .note-theme-forest, body[data-theme='monochrome'] .note-theme-forest { --note-bg: #062813; --note-text: #bbf7d0; --note-pattern: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 0v16M0 8h16' stroke='%234ade80' stroke-width='1' stroke-opacity='0.1'/%3E%3C/svg%3E"); }
      body[data-theme='dark'] .note-theme-ocean, body[data-theme='monochrome'] .note-theme-ocean { --note-bg: #082f49; --note-text: #a5f3fc; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath fill='%2322d3ee' fill-opacity='0.1' d='M0 0h20L0 20z'/%3E%3C/svg%3E"); }
      body[data-theme='dark'] .note-theme-stone, body[data-theme='monochrome'] .note-theme-stone { --note-bg: #1c1917; --note-text: #d6d3d1; --note-pattern: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='5' height='5' viewBox='0 0 5 5'%3E%3Cpath fill='%23a8a29e' fill-opacity='0.1' d='M0 0h5v1H0zm0 4h5v1H0z'/%3E%3C/svg%3E"); }

      .note-themed {
        background-color: var(--note-bg);
        background-image: var(--note-pattern);
        color: var(--note-text) !important;
        transition: background-color 0.3s ease, color 0.3s ease;
      }
      .note-themed .form-input, .note-themed .form-select {
        background-color: rgba(0,0,0,0.1);
        border-color: rgba(0,0,0,0.1);
        color: var(--note-text);
      }
      .note-themed *::placeholder {
        color: var(--note-text);
        opacity: 0.7;
      }
      .note-themed :is(h1,h2,h3,h4,h5,h6), .note-themed strong, .note-themed b {
        color: var(--note-text);
      }
      .note-themed .editor-content a {
        color: var(--note-text);
        opacity: 0.8;
        text-decoration-thickness: 2px;
      }
      .note-themed :is(.btn-secondary, .btn-danger) {
        background-color: rgba(0,0,0,0.1);
        color: var(--note-text);
      }
      .note-themed .btn-primary {
         background-color: var(--note-text);
         color: var(--note-bg);
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.8.2",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/"
  }
}
</script>
</head>
  <body class="antialiased">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').then(registration => {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
          }, err => {
            console.log('ServiceWorker registration failed: ', err);
          });
        });
      }
    </script>
  </body>
</html>